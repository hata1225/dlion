# DLion - ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç† SNS

ç®¡ç†ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã¨ã€ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã«æµã‚Œã‚‹ web ã‚¢ãƒ—ãƒªã‚’ç›®æŒ‡ã—ã¦ä½œè£½ä¸­ã€‚ã€‚ã€‚

## Requirement

> ç«‹ã¡ä¸Šã’ã«ã‚ãŸã‚Šã€äº‹å‰ã« **docker-compose,yarn ã‚³ãƒãƒ³ãƒ‰**ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„ ğŸ™\
> \
> ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¤ã„ã¦\
> Docker version 20.10.13\
> node: 18.4.0

## ç«‹ã¡ä¸Šã’æ–¹

1.  **git clone ã‚’ã™ã‚‹**

        `git clone git@github.com:hata1225/dlion.git`

2.  **clone ã—ã¦ã§ããŸã€dlion ãƒ•ã‚©ãƒ«ãƒ€ã¸ç§»å‹•ã™ã‚‹**

        `cd dlion`

3.  **ä»»æ„ã®ãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆã‚‹**

        `ä¾‹: git checkout develop/v1.0.0`

4.  **.env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹**

        `touch .env`

5.  **Django ç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’ã€.env ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿**

- å…±åŒã§é‹å–¶ã€ç®¡ç†ç­‰ã™ã‚‹å ´åˆã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã¯ githubAccount: @hata1225 ã‹ã‚‰ã‚‚ã‚‰ã£ã¦ãã ã•ã„ã€‚
- å€‹äººã§ã‚½ãƒ¼ã‚¹ã‚’ä½¿ã†å ´åˆã¯ã€ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã‚’è‡ªåˆ†ã§ç™ºè¡Œã—.env ãƒ•ã‚¡ã‚¤ãƒ«ã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚

  1.  `cd django_api && python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())' && cd ../`
  2.  å‡ºåŠ›ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’ã‚³ãƒ”ãƒ¼

  **.env ãƒ•ã‚¡ã‚¤ãƒ«å†…ã«ã€ä»¥ä¸‹ã‚’ä¾‹ã«è¨˜è¿°(xxxxxxx...ã¯ã‚³ãƒ”ãƒ¼ã—ãŸæ–‡å­—åˆ—)**

             `SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

6.  **yarn install ã‚’ã™ã‚‹**

    dlion ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç›´ä¸‹ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å©ã„ã¦ãã ã•ã„ã€‚

        `yarn install`

7.  **docker-compose build ã‚’ã™ã‚‹**

    æœ€åˆã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã§ã™ã€‚

        `docker-compose build`

8.  **docker-compose up**

        `docker-compose up`

    > ã—ã°ã‚‰ãã—ãŸå¾Œã€ä¸€ç•ªä¸‹ã®è¡Œã«ã“ã‚“ãªã®ãŒå‡ºãŸã‚‰**å¤šåˆ†æˆåŠŸ**ã§ã™ã€‚ã€€\
    > ã€€ã€€`react-app_1 | No issues found.`

9.  **localhost:3000 ã¸ç§»å‹•ã™ã‚‹**

    **http://localhost:3000**

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒªã‚»ãƒƒãƒˆæ–¹æ³•

1. **`django_api/migrations`ã‚’å‰Šé™¤**

   ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤

2. **`django_api/db.sqlite3`ã‚’å‰Šé™¤**

   ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‰Šé™¤

3. **`docker-compose run --rm django_app sh -c "python3 manage.py makemigrations core"`ã‚’å®Ÿè¡Œ**

   --rm: ã‚³ãƒ³ãƒ†ãƒŠåœæ­¢å¾Œã€ã‚³ãƒ³ãƒ†ãƒŠã‚’å‰Šé™¤

   sh -c: ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ ï¼ˆbash -c: ãƒãƒƒã‚·ãƒ¥ã‚³ãƒãƒ³ãƒ‰ï¼‰

   ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œè£½

4. **`doker-compose run --rm django_app sh -c "python3 manage.py migrate core"`ã‚’å®Ÿè¡Œ**

   ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚‚ã¨ã«ã€database ã¸åæ˜ 
